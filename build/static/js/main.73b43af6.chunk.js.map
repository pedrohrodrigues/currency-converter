{"version":3,"sources":["components/CurrencyItem.js","App.js","index.js"],"names":["Currency","className","htmlFor","id","type","value","this","props","amount","onChange","onChangeAmount","onChangeFrom","currencyTypes","map","option","onChangeTo","onClick","onClickButton","conversion","React","Component","App","useState","setCurrencyTypes","apiError","setApiError","setAmount","from","setFrom","to","setTo","setConversion","conversionsHistory","setConversionHistory","a","axios","get","headers","data","rates","toFixed","currentResearch","length","shift","push","useEffect","Object","keys","loadCurrencyTypes","e","target","data-testid","class","h","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.73b43af6.chunk.js","sourcesContent":["import React from 'react';\nimport '../assets/CurrencyItem.css';\nimport PropTypes from 'prop-types';\n\nexport class Currency extends React.Component{\n\n  render() {\n  return (\n    <div className=\"currency-container\">\n      <h1>Currency Converter</h1>\n      <div className=\"currency-converter\">\n          <div className=\"currency-converter__item\">\n            <label htmlFor=\"amount\">Amount</label>\n            <input id=\"amount\" type=\"number\" value={this.props.amount} onChange={this.props.onChangeAmount}/>\n          </div>\n          <div className=\"currency-converter__item\">\n            <label htmlFor=\"from\">From</label>\n            <select id=\"from\" onChange={this.props.onChangeFrom}>\n              {this.props.currencyTypes.map(option =>(\n                <option key={option} value={option}>{option}</option>\n              ))}\n            </select>\n          </div>\n          <div className=\"currency-converter__item\">\n            <label htmlFor=\"to\">To</label>\n            <select id=\"to\" onChange={this.props.onChangeTo}>\n              {this.props.currencyTypes.map(option =>(\n                <option key={option} value={option}>{option}</option>\n              ))}\n            </select>\n          </div>\n          <div className=\"currency-converter__item currency-converter__item--button\">\n            <button id=\"convertButton\" onClick={this.props.onClickButton}>\n              Convert\n            </button>\n          </div>\n          <div className=\"conversion_result\">\n            {this.props.conversion}\n          </div>\n      </div>\n    </div>\n  );\n  }\n}\n\nCurrency.propTypes = {\n  currencyTypes: PropTypes.array.isRequired\n}","import React,{ useEffect,useState } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport { Currency } from './components/CurrencyItem';\n\nfunction App() {\n  const [currencyTypes, setCurrencyTypes] = useState([]);\n  const [apiError, setApiError] = useState();\n  const [amount, setAmount] = useState(0)\n  const [from, setFrom] = useState()\n  const [to, setTo] = useState()\n  const [conversion, setConversion] = useState()\n  const [conversionsHistory, setConversionHistory] = useState([])\n\n  useEffect(() => {\n    const loadCurrencyTypes = async () => {\n    try {\n      setApiError('');\n      const { data } = await axios.get('/currencyRates');\n      setFrom(Object.keys(data.rates)[0]);\n      setTo(Object.keys(data.rates)[0]);\n      setCurrencyTypes([...Object.keys(data.rates)])\n    } catch(error) {\n      setApiError('An error has occured with the api, please try again');\n  }\n}\nloadCurrencyTypes();\n}, []);\n  \n  async function convert() {\n    setApiError('');\n    try{\n      const { data } = await axios.get('/convert', {\n        headers: {\n          from: from,\n          to: to,\n        } \n      });\n      const conversion = (amount * data.rates[to]).toFixed(2);\n      const currentResearch = conversionsHistory;\n      if(conversionsHistory.length > 10) {\n        currentResearch.shift();\n      }\n      currentResearch.push(`${amount} ${from} is equal to ${conversion} ${to}`);\n      setConversionHistory(currentResearch)\n      setConversion(conversion + ' ' + to);\n    } catch(error) {\n      setApiError('An error has occured with the api, please try again');\n    }\n  }\n\n  function handleChangeAmount(e) {\n    setAmount(e.target.value)\n  }\n\n  function handleChangeTo(e) {\n    setTo(e.target.value)\n  }\n\n  \n  function handleChangeFrom(e) {\n    setFrom(e.target.value)\n  }\n\n  return (\n    <div className=\"App\">\n      <Currency \n        currencyTypes={currencyTypes} onChangeAmount={handleChangeAmount} onClickButton={convert} \n        amount={amount}\n        conversion={conversion}\n        onChangeTo={handleChangeTo}\n        onChangeFrom={handleChangeFrom}\n      />\n      <div data-testid=\"apiError\" class=\"api-error\" id=\"apiError\">{apiError}</div>\n      <div class=\"previous-researches\">\n        Previous Researches      \n          <ul id=\"previousReseaches\">\n            {conversionsHistory.map(h => (\n              <li key={h}> {h} </li>\n            ))}\n          </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}